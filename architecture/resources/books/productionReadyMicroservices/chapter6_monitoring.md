# Monitoring

- check list
  - its key metrics are identified and monitored at the host, infrastructure, and microservice levels
  - it has appropriate logging that accurately reflects the past states of the microservice
  - its dashboards are easy to interpret, and contain all key metrics
  - its alerts are actionable and are defined by signal-providing thresholds
  - there is a dedicated on-call rotation responsible for monitoring and responding to any indicents and outages
  - there is a clear, well-defined, and standardized on-call procedure in place for handling incidents and outages
- this speeds up figuring out what state your microservices are in
- reduces time to figuring out whats wrong
- key for meeting SLA's
- key metrics
  - host and infrastructure metrics
    - cpu
    - ram
    - threads
    - file descriptors
    - db connections
  - microservice metrics
    - language-specific metrics
    - availabiliity
    - SLA
    - enpoint success
    - endpoing responses
    - endpoing response times
    - clients
    - errors and exceptions
    - dependencies
- logging
  - sometimes its the only or most reliable way to figure out whats going on (i can attest to this)
  - when properly done, this helps make microservice versioning become unnecessary
  - of course, never log sensitive info
  - storing and accessing logs are expensive on top of taking up network resources
    - as such, try to avoid unnecessary logs especially debug logs in prod
  - needs to be available, accessible, and easy searchable
- dashboards
  - at a glance view of all key metrics of a microservice
  - easy to interpret
  - accurate reflection of the level of monitoring of the whole microservice
  - all metrics alerted on should be contained here
  - deployment pipleline metrics (can be in separate dashboard tho)
- alerting
  - essential to preserving the availablity of a service
  - alerts should also trigger when key metrics are *not seen*
  - use load testing to determine thresholds
  - non-actionable alerts are useless (an annoying in my experience)
  - there should exist an on-call runbook
    - please make these junior developer friendly
    - one for host/infra level and another for the microservice in question
    - automating this runbook if possible is very valuable
- on call rotations
  - should be brief
  - no more than two developers at a time
  - schedule should be publicized and accessible by everyone in the org

  -
